{{ if (isset .Scratch.Values "containerizeMenuFolderPath") }}

    {{- $menuPath := .Scratch.Get "containerizeMenuFolderPath" -}}
    <div id="dvMenuHeader"></div>
    {{ partial (print "containerize-menu/" $menuPath "menu.html") . }}

    {{ $menuJs := resources.Get (print "/containerize-menu/" $menuPath "custom.js") }}
    <script defer src="{{- $menuJs.RelPermalink -}}" integrity="{{- $menuJs.Data.Integrity -}}" crossorigin="anonymous"></script>
    <script>
        var _defaultLanguage="1",Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(a){var h,d,e,i,j,f,b,g="",c=0;for(a=Base64._utf8_encode(a);c<a.length;)i=(h=a.charCodeAt(c++))>>2,j=(3&h)<<4|(d=a.charCodeAt(c++))>>4,f=(15&d)<<2|(e=a.charCodeAt(c++))>>6,b=63&e,isNaN(d)?f=b=64:isNaN(e)&&(b=64),g=g+this._keyStr.charAt(i)+this._keyStr.charAt(j)+this._keyStr.charAt(f)+this._keyStr.charAt(b);return g},decode:function(a){var e,f,g,h,d,i,c="",b=0;for(a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");b<a.length;)e=this._keyStr.indexOf(a.charAt(b++))<<2|(h=this._keyStr.indexOf(a.charAt(b++)))>>4,f=(15&h)<<4|(d=this._keyStr.indexOf(a.charAt(b++)))>>2,g=(3&d)<<6|(i=this._keyStr.indexOf(a.charAt(b++))),c+=String.fromCharCode(e),64!=d&&(c+=String.fromCharCode(f)),64!=i&&(c+=String.fromCharCode(g));return Base64._utf8_decode(c)},_utf8_encode:function(c){c=c.replace(/\r\n/g,"\n");for(var b="",d=0;d<c.length;d++){var a=c.charCodeAt(d);a<128?b+=String.fromCharCode(a):a>127&&a<2048?(b+=String.fromCharCode(a>>6|192),b+=String.fromCharCode(63&a|128)):(b+=String.fromCharCode(a>>12|224),b+=String.fromCharCode(a>>6&63|128),b+=String.fromCharCode(63&a|128))}return b},_utf8_decode:function(c){for(var d="",a=0,b=c1=c2=0;a<c.length;)(b=c.charCodeAt(a))<128?(d+=String.fromCharCode(b),a++):b>191&&b<224?(c2=c.charCodeAt(a+1),d+=String.fromCharCode((31&b)<<6|63&c2),a+=2):(c2=c.charCodeAt(a+1),c3=c.charCodeAt(a+2),d+=String.fromCharCode((15&b)<<12|(63&c2)<<6|63&c3),a+=3);return d}};function GetUsernameCookie(f){var a="";if(""==(a=Base64.decode(getCookie("UserInfo"))))return a;try{var b=a.split("&"),e=b[0].split("=")[1],c=b[1].split("=")[1],d=c;""==c&&(d=e),localStorage.setItem("UserNameLink",d)}catch(g){}return a}function getCookie(e){for(var c=e+"=",d=decodeURIComponent(document.cookie).split(";"),b=0;b<d.length;b++){for(var a=d[b];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(c))return a.substring(c.length,a.length)}return""}function setCookie(b,c,d){var a=new Date;a.setTime(a.getTime()+24*d*36e5);var e="expires="+a.toGMTString();document.cookie=b+"="+c+";"+e+";path=/"}async function setupCSS(){var a=document.createElement("div");htmlToRender='{{- partial (print "containerize-menu/" $menuPath "custom.css") . -}}',a.innerHTML=htmlToRender,document.getElementById("dvMenuHeader").appendChild(a)}async function setupUser(){var b=GetUsernameCookie("aspose"),a="";""==b?(a='{{- partial (print "containerize-menu/" $menuPath "default_state.html") . -}}',document.getElementById("DynabicMenuUserControls").innerHTML=a):(a='{{- partial (print "containerize-menu/" $menuPath "logged_in_state.html") . -}}',document.getElementById("DynabicMenuUserControls").innerHTML=a,document.getElementById("UserNameLink").innerHTML=localStorage.getItem("UserNameLink"))}async function setupMenu(){setupCSS(),setupUser()}setupMenu()
    </script>
{{- end -}}